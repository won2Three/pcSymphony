<!DOCTYPE html>
<html class="no-js" lang="en"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <title>PcSymphony</title>
    <link href="../static/css/style.css" rel="stylesheet" th:href="@{/css/style.css}">
    <link href="../static/css/header.css" rel="stylesheet" th:href="@{/css/header.css}">
    <link href="../static/css/footer.css" rel="stylesheet" th:href="@{/css/footer.css}">
    <link href="../static/css/home.css" rel="stylesheet" th:href="@{/css/home.css}">
    <link href="../static/css/homeReview.css" rel="stylesheet" th:href="@{/css/homeReview.css}">
    <script src="../static/js/header.js" th:src="@{/js/header.js}"></script>
    <script src="../static/js/main.min.js" th:src="@{/js/main.min.js}"></script>
    <!-- Slick Slider CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>

    <!-- Slick Slider JS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <title>pcSymphony_Home</title>
    <style>

    </style>
</head>

<body>
<!--헤더-->
<div th:replace="~{fragments/header :: headerFragment}"></div>
<div class="body-wrap">

    <main class="site-content">
        <section class="roadmap section">
            <div class="container">
                <div class="roadmap-inner section-inner">
                    <div class="section-header center-content">
                        <!--메인 문구-->
                        <div class="container-xs">
                            <h2 class="mt-0 mb-16">Pick Parts. Build Your PC. Compare and Share.</h2>
                            <button class="main-button" onclick="location.href='/cart'">Cart</button>
                        </div>
                        <!--파츠 디테일 이동 버튼-->
                        <div class="partsTiles-wrap">
                            <!--cpu-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/cpu">
                                        <figure class="news-item-image m-0">
                                            <img alt="CPU image" height="100"
                                                 src="/images/nav-cpu.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                CPU</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
<!--                            CPUCooler-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/cpucooler">
                                        <figure class="news-item-image m-0">
                                            <img alt="CPUCooler image" height="100"
                                                 src="/images/nav-cpucooler.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                CPUCooler</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
                            <!--motherboard-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/motherboard">
                                        <figure class="news-item-image m-0">
                                            <img alt="motherboard image" height="100"
                                                 src="/images/nav-motherboard.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                Motherboard</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
<!--                            Memory-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/memory">
                                        <figure class="news-item-image m-0">
                                            <img alt="Memory image" height="100"
                                                 src="/images/nav-memory.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                Memory</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
<!--                            Storage-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/storage">
                                        <figure class="news-item-image m-0">
                                            <img alt="Storage image" height="100"
                                                 src="/images/nav-storage.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                Storage</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
<!--                            Videocard-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/videocard">
                                        <figure class="news-item-image m-0">
                                            <img alt="Videocard image" height="100"
                                                 src="/images/nav-videocard.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                CPU</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
<!--                            powersupply-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/powersupply">
                                        <figure class="news-item-image m-0">
                                            <img alt="Powersupply image" height="100"
                                                 src="/images/nav-powersupply.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                Powersupply</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
<!--                            Case-->
                            <article class="partsTiles-item">
                                <div class="partsTiles-item-inner has-shadow">
                                    <a href="/part/cover">
                                        <figure class="news-item-image m-0">
                                            <img alt="Case image" height="100"
                                                 src="/images/nav-cover.png" width="100">
                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body"><h3 class="news-item-title h4 mt-0 mb-8">
                                                Case</h3>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </article>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!--pcGuide-->
        <section class="news section illustration-section-01 has-top-divider guide-container">
            <div class="container ">
                <div class="news-inner section-inner">
                    <div class="section-header center-content">
                        <div class="container-xs"><h2 class="mt-0 mb-16 guide-name">GuideLine</h2>
                            <p class="mb-0 guide-name">Building your own PC and need ideas on where to get started? Explore our build guides which cover systems for a variety of use-cases and budgets.</p></div>
                    </div>
                    <div class="tiles-wrap">
                        <!-- 최신 3개의 리뷰를 출력 -->
                        <div th:each="guideline : ${latestGuideLines}">
                            <a th:href="@{/guide/{id}(id=${guideline.guidelineId})}" class="guide-item">
                            <article class="tiles-item">
                                <div class="tiles-item-inner has-shadow">
                                    <figure class="news-item-image m-0">
                                        <!-- 이미지 동적으로 출력 -->
                                        <img alt="guideline Image" height="194"
                                             th:src="@{${guideline.imagePath}}" width="344">
                                    </figure>
                                    <div class="news-item-content">
                                        <div class="news-item-body">
                                            <!-- 리뷰 제목 출력 -->
                                            <h3 class="news-item-title h4 mt-0 mb-8" th:text="${guideline.guidelineTitle}"></h3>
                                            <!-- 리뷰 내용 출력 -->
                                            <p class="mb-16 text-sm" id="guideline-content" th:text="${guideline.guidelineContent}"></p>
                                        </div>
                                    </div>
                                </div>
                            </article>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--PcReview-->
        <section class="roadmap section has-top-divider">
            <div class="container">
                <div class="roadmap-inner section-inner">
                    <div class="section-header center-content">
                        <div class="container-xs">
                            <h2 class="mt-0 mb-16">PcReview</h2>
                            <p class="mb-0">Browse thousands of PC builds generated by users showing their partlist, photos and overall build experience.</p>
                        </div>
                    </div>
                    <div class="tiles-wrap">
                        <!-- 최신 10개의 리뷰를 출력 -->
                        <div class="custom-slider">
                            <div th:each="pcReview : ${latestPcReviews}">
                                <article class="tiles-item">
                                    <div class="tiles-item-inner has-shadow">
                                        <figure class="news-item-image m-0">
                                            <!-- 이미지 동적으로 출력 -->
                                            <img alt="PcReview Image"
                                                 th:src="@{${pcReview.imagePath}}"
                                                 style="width: 344px; height: 194px; object-fit: cover;">

                                        </figure>
                                        <div class="news-item-content">
                                            <div class="news-item-body">
                                                <!-- 리뷰 제목 출력 -->
                                                <h3 class="news-item-title h4 mt-0 mb-8" th:text="${pcReview.pcreviewTitle}"></h3>
                                                <!-- 리뷰 내용 출력 -->
                                                <p class="mb-16 text-sm" id="pcreview-content" th:text="${pcReview.pcreviewContent}"></p>
                                            </div>
                                            <div class="news-item-more text-xs mb-8">
                                                <!-- Read more 링크 -->
                                                <a th:href="@{/pcreview/read/{id}(id=${pcReview.pcreviewId})}">Read more</a>
                                            </div>
                                        </div>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



    </main>
</div>
<div th:replace="~{fragments/footer :: footerFragment}"></div>
</body>
<script type="text/javascript">
    $(document).ready(function() {
       console.log("Slick slider initializing...");

       // 슬라이더가 이미 초기화되었으면 해제하고 새로 초기화
       if ($('.custom-slider').hasClass('slick-initialized')) {
           $('.custom-slider').slick('unslick');
       }

       $('.custom-slider').slick({
           slidesToShow: 3,
           slidesToScroll: 1,
           arrows: true,  // 화살표 표시
           dots: true,
           infinite: false,
           accessibility: true,  // 접근성 활성화
           focusOnSelect: true,  // 슬라이드 클릭 시 해당 슬라이드로 포커스 이동
           responsive: [
               {
                   breakpoint: 1024,
                   settings: {
                       slidesToShow: 2,
                       slidesToScroll: 1
                   }
               },
               {
                   breakpoint: 768,
                   settings: {
                       slidesToShow: 1,
                       slidesToScroll: 1
                   }
               }
           ]
       });

       // 슬라이드 전환 시 tabindex 속성 관리
       $('.custom-slider').on('beforeChange', function(event, slick, currentSlide, nextSlide) {
           console.log('beforeChange triggered');
           // 모든 슬라이드 항목에 대해 tabindex="-1" 설정
           $('.slick-slide').attr('tabindex', '-1');
           // 현재 활성화된 슬라이드에는 tabindex="0" 설정
           $('.slick-slide.slick-current').attr('tabindex', '0');
       });

       // 슬라이드가 이동할 때 aria-hidden 속성 처리
       $('.custom-slider').on('beforeChange', function(event, slick, currentSlide, nextSlide) {
           console.log('beforeChange triggered');

           // aria-hidden 속성 제거 및 관리
           $('.slick-slide').removeAttr('aria-hidden'); // 모든 슬라이드에서 aria-hidden 제거
           $('.slick-slide.slick-current').attr('aria-hidden', 'false');  // 현재 활성화된 슬라이드에서만 aria-hidden="false"
           $('.slick-slide').not('.slick-current').attr('aria-hidden', 'true');  // 나머지 슬라이드는 aria-hidden="true"
       });
   });
</script>
</html>